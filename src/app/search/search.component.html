<div class="search-container">
  <!-- Search input and button -->
  <form (ngSubmit)="onSearch()" class="search-form">
    <input type="text" [(ngModel)]="query" name="query" placeholder="Search restaurants and dishes..." required>
    <button type="submit">Search</button>
  </form>

  <!-- Loading indicator -->
  <div *ngIf="isLoading" class="loading">Searching...</div>

  <!-- Error message -->
  <div *ngIf="error" class="error">{{ error }}</div>

  <!-- Search results -->
  <div *ngIf="searchResults">
    <div class="results-section">
      <h3>Restaurants</h3>
      <div *ngIf="searchResults.restaurants.length > 0; else noRestaurants">
        <ul>
          <li *ngFor="let restaurant of searchResults.restaurants">
            <strong>{{ restaurant.name }}</strong>
            <span *ngIf="restaurant.location"> - {{ restaurant.location }}</span>
          </li>
        </ul>
      </div>
      <ng-template #noRestaurants>
        <p>No restaurants found.</p>
      </ng-template>
    </div>

    <div class="results-section">
      <h3>Dishes</h3>
      <div *ngIf="searchResults.dishes.length > 0; else noDishes">
        <ul>
          <li *ngFor="let dish of searchResults.dishes">
            <a [routerLink]="['/dish', dish.id]" class="dish-link"><strong>{{ dish.name }}</strong></a>
            <span *ngIf="dish.restaurantName"> ({{ dish.restaurantName }})</span>
          </li>
        </ul>
      </div>
      <ng-template #noDishes>
        <p>No dishes found.</p>
      </ng-template>
    </div>
  </div>
</div>
